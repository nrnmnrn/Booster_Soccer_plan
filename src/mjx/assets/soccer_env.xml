<!--
MJX 足球訓練環境 XML

基於 booster_lower_t1.xml 結構，添加 ball、goal 等足球環境元素。
此版本使用簡化幾何體（primitive geoms）以確保 MJX 兼容性和 GPU 訓練效率。

機器人：12 DOF 下肢（與官方一致）
場景：ball + 2 goals + 可選 goalkeeper/defender

Reference: booster_soccer_showdown/mimic/assets/booster_t1/booster_lower_t1.xml
-->
<mujoco model="soccer_env">
  <compiler angle="radian" autolimits="true"/>

  <option timestep="0.002" gravity="0 0 -9.81"/>

  <asset>
    <material name="robot_gray" rgba="0.6 0.6 0.6 1"/>
    <material name="ball_white" rgba="1 1 1 1"/>
    <material name="goal_red" rgba="1 0 0 0.5"/>
    <material name="goal_blue" rgba="0 0 1 0.5"/>
    <material name="floor_green" rgba="0.2 0.6 0.2 1"/>
  </asset>

  <default>
    <joint frictionloss="0.1" armature="0.005"/>
    <motor ctrllimited="true"/>
    <geom condim="3" friction="1.0 0.005 0.0001"/>
  </default>

  <worldbody>
    <!-- 地面 -->
    <geom name="floor" type="plane" size="10 7 0.1" material="floor_green"/>
    <light directional="true" diffuse="0.8 0.8 0.8" pos="0 0 5" dir="0 0 -1"/>

    <!-- ========== 機器人（簡化幾何體） ========== -->
    <body name="Trunk" pos="0 0 0.7">
      <site name="imu" size="0.01" pos="0 0 0"/>
      <freejoint name="root"/>
      <inertial pos="0.054 0 0.089" mass="19.4" diaginertia="0.5 0.35 0.21"/>

      <!-- 軀幹 -->
      <geom name="trunk_geom" type="box" size="0.12 0.1 0.18" pos="0.05 0 0.1" material="robot_gray"/>

      <!-- ===== 左腿 ===== -->
      <body name="Hip_Pitch_Left" pos="0.0625 0.106 -0.1155">
        <inertial pos="0.0005 -0.007 -0.018" mass="1.0" diaginertia="0.0018 0.0015 0.0013"/>
        <joint name="Left_Hip_Pitch" axis="0 1 0" range="-1.8 1.57"/>
        <geom type="capsule" size="0.04" fromto="0 0 -0.02 0 0 0.02" material="robot_gray"/>

        <body name="Hip_Roll_Left" pos="0 0 -0.02">
          <inertial pos="0.001 0 -0.054" mass="0.4" diaginertia="0.0017 0.0015 0.0005"/>
          <joint name="Left_Hip_Roll" axis="1 0 0" range="-0.3 1.57"/>
          <geom type="capsule" size="0.035" fromto="0 0 -0.08 0 0 0" material="robot_gray"/>

          <body name="Hip_Yaw_Left" pos="0 0 -0.082">
            <inertial pos="-0.007 0 -0.089" mass="2.2" diaginertia="0.026 0.025 0.003"/>
            <joint name="Left_Hip_Yaw" axis="0 0 1" range="-1 1"/>
            <geom type="capsule" size="0.05" fromto="0 0 -0.08 0 0 0.08" material="robot_gray"/>

            <body name="Shank_Left" pos="-0.014 0 -0.134">
              <inertial pos="-0.006 0 -0.124" mass="1.7" diaginertia="0.035 0.035 0.002"/>
              <joint name="Left_Knee_Pitch" axis="0 1 0" range="0 2.34"/>
              <geom type="capsule" size="0.04" fromto="0 0 0 0 0 -0.28" material="robot_gray"/>

              <body name="Ankle_Cross_Left" pos="0 0 -0.28">
                <inertial pos="-0.004 0 -0.008" mass="0.07" diaginertia="0.00003 0.00003 0.00001"/>
                <joint name="Left_Ankle_Pitch" axis="0 1 0" range="-0.87 0.35"/>

                <body name="left_foot_link" pos="0 0 -0.012">
                  <site name="left_foot" size="0.01"/>
                  <inertial pos="0 0 -0.009" mass="0.7" diaginertia="0.003 0.002 0.002"/>
                  <joint name="Left_Ankle_Roll" axis="1 0 0" range="-0.44 0.44"/>
                  <geom type="box" size="0.11 0.05 0.015" pos="0.01 0 -0.015" material="robot_gray"/>
                </body>
              </body>
            </body>
          </body>
        </body>
      </body>

      <!-- ===== 右腿 ===== -->
      <body name="Hip_Pitch_Right" pos="0.0625 -0.106 -0.1155">
        <inertial pos="0.0005 0.007 -0.018" mass="1.0" diaginertia="0.0018 0.0015 0.0013"/>
        <joint name="Right_Hip_Pitch" axis="0 1 0" range="-1.8 1.57"/>
        <geom type="capsule" size="0.04" fromto="0 0 -0.02 0 0 0.02" material="robot_gray"/>

        <body name="Hip_Roll_Right" pos="0 0 -0.02">
          <inertial pos="0.001 0 -0.054" mass="0.4" diaginertia="0.0017 0.0015 0.0005"/>
          <joint name="Right_Hip_Roll" axis="1 0 0" range="-1.57 0.3"/>
          <geom type="capsule" size="0.035" fromto="0 0 -0.08 0 0 0" material="robot_gray"/>

          <body name="Hip_Yaw_Right" pos="0 0 -0.082">
            <inertial pos="-0.007 0 -0.089" mass="2.2" diaginertia="0.026 0.025 0.003"/>
            <joint name="Right_Hip_Yaw" axis="0 0 1" range="-1 1"/>
            <geom type="capsule" size="0.05" fromto="0 0 -0.08 0 0 0.08" material="robot_gray"/>

            <body name="Shank_Right" pos="-0.014 0 -0.134">
              <inertial pos="-0.006 0 -0.124" mass="1.8" diaginertia="0.035 0.035 0.002"/>
              <joint name="Right_Knee_Pitch" axis="0 1 0" range="0 2.34"/>
              <geom type="capsule" size="0.04" fromto="0 0 0 0 0 -0.28" material="robot_gray"/>

              <body name="Ankle_Cross_Right" pos="0 0 -0.28">
                <inertial pos="-0.004 0 -0.008" mass="0.07" diaginertia="0.00003 0.00003 0.00001"/>
                <joint name="Right_Ankle_Pitch" axis="0 1 0" range="-0.87 0.35"/>

                <body name="right_foot_link" pos="0 0 -0.012">
                  <site name="right_foot" size="0.01"/>
                  <inertial pos="0 0 -0.009" mass="0.7" diaginertia="0.003 0.002 0.002"/>
                  <joint name="Right_Ankle_Roll" axis="1 0 0" range="-0.44 0.44"/>
                  <geom type="box" size="0.11 0.05 0.015" pos="0.01 0 -0.015" material="robot_gray"/>
                </body>
              </body>
            </body>
          </body>
        </body>
      </body>
    </body>

    <!-- ========== 足球 ========== -->
    <body name="ball" pos="1 0 0.11">
      <freejoint name="ball_joint"/>
      <inertial pos="0 0 0" mass="0.45" diaginertia="0.003 0.003 0.003"/>
      <geom name="ball_geom" type="sphere" size="0.11" material="ball_white"/>
    </body>

    <!-- ========== 球門 ========== -->
    <!-- Team 0 球門（正 X 方向） -->
    <body name="goal_team_0" pos="4.5 0 0">
      <geom name="goal_0_back" type="box" size="0.05 1.2 0.8" pos="0 0 0.8" material="goal_red" contype="0" conaffinity="0"/>
      <geom name="goal_0_left" type="box" size="0.3 0.05 0.8" pos="-0.25 1.15 0.8" material="goal_red" contype="0" conaffinity="0"/>
      <geom name="goal_0_right" type="box" size="0.3 0.05 0.8" pos="-0.25 -1.15 0.8" material="goal_red" contype="0" conaffinity="0"/>
      <geom name="goal_0_top" type="box" size="0.3 1.2 0.05" pos="-0.25 0 1.55" material="goal_red" contype="0" conaffinity="0"/>
      <site name="goal_0_center" pos="-0.25 0 0.5" size="0.1"/>
    </body>

    <!-- Team 1 球門（負 X 方向） -->
    <body name="goal_team_1" pos="-4.5 0 0">
      <geom name="goal_1_back" type="box" size="0.05 1.2 0.8" pos="0 0 0.8" material="goal_blue" contype="0" conaffinity="0"/>
      <geom name="goal_1_left" type="box" size="0.3 0.05 0.8" pos="0.25 1.15 0.8" material="goal_blue" contype="0" conaffinity="0"/>
      <geom name="goal_1_right" type="box" size="0.3 0.05 0.8" pos="0.25 -1.15 0.8" material="goal_blue" contype="0" conaffinity="0"/>
      <geom name="goal_1_top" type="box" size="0.3 1.2 0.05" pos="0.25 0 1.55" material="goal_blue" contype="0" conaffinity="0"/>
      <site name="goal_1_center" pos="0.25 0 0.5" size="0.1"/>
    </body>

    <!-- ========== 門將佔位（可選，訓練時可啟用） ========== -->
    <!--
    <body name="goalkeeper_team_0" pos="4.0 0 0.5">
      <geom type="capsule" size="0.15" fromto="0 0 -0.3 0 0 0.3" rgba="1 0 0 0.7"/>
      <site name="gk_0_pos" size="0.05"/>
    </body>

    <body name="goalkeeper_team_1" pos="-4.0 0 0.5">
      <geom type="capsule" size="0.15" fromto="0 0 -0.3 0 0 0.3" rgba="0 0 1 0.7"/>
      <site name="gk_1_pos" size="0.05"/>
    </body>
    -->
  </worldbody>

  <!-- ========== Actuators（12 DOF，與官方一致）========== -->
  <actuator>
    <motor name="Left_Hip_Pitch" joint="Left_Hip_Pitch" ctrlrange="-45.0 45.0"/>
    <motor name="Left_Hip_Roll" joint="Left_Hip_Roll" ctrlrange="-45.0 45.0"/>
    <motor name="Left_Hip_Yaw" joint="Left_Hip_Yaw" ctrlrange="-30.0 30.0"/>
    <motor name="Left_Knee_Pitch" joint="Left_Knee_Pitch" ctrlrange="-65.0 65.0"/>
    <motor name="Left_Ankle_Pitch" joint="Left_Ankle_Pitch" ctrlrange="-24.0 24.0"/>
    <motor name="Left_Ankle_Roll" joint="Left_Ankle_Roll" ctrlrange="-15.0 15.0"/>
    <motor name="Right_Hip_Pitch" joint="Right_Hip_Pitch" ctrlrange="-45.0 45.0"/>
    <motor name="Right_Hip_Roll" joint="Right_Hip_Roll" ctrlrange="-45.0 45.0"/>
    <motor name="Right_Hip_Yaw" joint="Right_Hip_Yaw" ctrlrange="-30.0 30.0"/>
    <motor name="Right_Knee_Pitch" joint="Right_Knee_Pitch" ctrlrange="-65.0 65.0"/>
    <motor name="Right_Ankle_Pitch" joint="Right_Ankle_Pitch" ctrlrange="-24.0 24.0"/>
    <motor name="Right_Ankle_Roll" joint="Right_Ankle_Roll" ctrlrange="-15.0 15.0"/>
  </actuator>

  <!-- ========== Sensors ========== -->
  <sensor>
    <gyro name="torso_gyro" site="imu"/>
    <velocimeter name="torso_vel" site="imu"/>
    <accelerometer name="accelerometer" site="imu"/>
    <framequat name="torso_quat" objtype="site" objname="imu"/>
    <framepos name="torso_pos" objtype="site" objname="imu"/>
    <framelinvel name="torso_linvel" objtype="site" objname="imu"/>
  </sensor>
</mujoco>
